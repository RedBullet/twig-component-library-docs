{% from "styleguide::components/utils/component.twig" import component %}

<div class="sg-variant">
  <h3 class="sg-variant__heading">{{ heading }}</h3>
  <a href="{{ isolated_link }}" class="sg-variant__isolated-link" target="_blank">Open isolated</a>

  {% if name %}
    <div class="sg-variant__component"><iframe src="{{ isolated_link }}"></iframe></div>
  {% endif %}

  {% set parts = name|split('/') %}
  {% set path = "components/" ~ name ~ "/" ~ parts[parts|length - 1] ~ ".twig" %}
  <div class="sg-variant__code sg-variant__code--html" id="variant-html-{{ file_id }}">
<pre><code class="html">{% filter escape %}{{ component(name, data) }}{% endfilter %}</code></pre>
  </div>
  <div class="sg-variant__code sg-variant__code--twig" id="variant-twig-{{ file_id }}">
<pre><code class="twig">{% filter escape %}{{ twig_raw }}{% endfilter %}</code></pre>
  </div>
  <div class="sg-variant__code sg-variant__code--json" id="variant-json-{{ file_id }}">
<pre><code class="json">{% filter escape %}{{ data_raw }}{% endfilter %}</code></pre>
  </div>
  <a href="#variant-twig-{{ file_id }}" class="sg-variant__trigger">Twig</a>
  <a href="#variant-html-{{ file_id }}" class="sg-variant__trigger">HTML</a>
  <a href="#variant-json-{{ file_id }}" class="sg-variant__trigger">Data</a>
</div>
